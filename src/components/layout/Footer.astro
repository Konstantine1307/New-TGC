---
import FooterNav from '@components/cards/FooterNav.astro';
import FooterServices from '@components/cards/FooterServices.astro';
import BackToTheTop from '@components/elements/BackToTheTop.astro';
import Container from '@components/elements/Container.astro';
import ThemeSelector from '@components/elements/ThemeSelector.astro';
import Icon from 'astro-icon';

import {
  footerNav,
  footerServices,
  footerServices2,
  footerContact,
} from 'src/constants';
---

<div class='mt-1 box-border'></div>
<footer
  class='relative p-4 md:p-8 shadow-lg shadow-box-shadow pt-6 bg-gradient-to-br from-slate-500 via-gray-50 to-slate-300 dark:bg-gradient-to-b dark:from-slate-900 dark:via-slate-800 dark:to-slate-700'
>
  <div
    class='pb-8 relative overflow-hidden mx-auto w-full px-5 sm:px-8 md:px-2 lg:px-5 divide-y-2'
  >
    <div class='grid grid-cols-5 lg:items-stretch gap-8 relative'>
      <div class='col-span-5 md:col-span-1 h-auto flex flex-col'>
        <div class='h-full flex flex-col'>
          <a href='/'>
            <div class='relative overflow-hidden flex rounded-xl'>
              <img
                src='/tgc-new-logo.png'
                alt='Tresowes Green Cottage logo'
                class='h-16 w-16'
              />
            </div>
          </a>
          <div class='mt-4 text-sm font-semibold text-subheading'>
            Tresowes Green Cottage
          </div>
        </div>
        <!-- social links -->
        <div
          class='min-h-max flex items-center justify-end md:justify-start gap-3 text-heading-3 mt-6'
        >
          {
            [
              ['twitter', 'https://twitter.com/tresowesG', 'twitter'],
              [
                'facebook',
                'https://www.facebook.com/TresowesGreenCottage',
                'mdi:facebook',
              ],
              [
                'instagram',
                'https://www.instagram.com/tresowesgreencottage',
                'mdi:instagram',
              ],
              [
                'email',
                'mailto:?subject=I wanted you to see this holiday rental &body= Hi there, Check out this site https://www.tresowesgreencottage.com. Thanks',
                'mdi:email-outline',
              ],
            ].map(([ariaLabel, url, iconName]) => (
              <>
                <a href={url} aria-label={ariaLabel}>
                  <Icon
                    name={iconName}
                    class='h-6 dark:text-primary text-slate-600'
                  />
                </a>
                <span class='sr-only'>social link</span>
              </>
            ))
          }
        </div>
      </div>

      <div class='md:grid md:grid-cols-2 md:col-span-2 gap-4 h-max hidden'>
        <FooterServices title='Extras' navItems={footerServices} />
        <FooterServices title='Services' navItems={footerServices2} />
      </div>
      <div class='grid grid-cols-2 col-span-5 md:col-span-2 gap-4 h-max'>
        <FooterNav title='Quick Links' navItems={footerNav} />
        <FooterNav title='Contact Us' navItems={footerContact} />
      </div>
    </div>
    <Container className='mt-16 divide-y-2 pt-6'>
      <div class='flex items-center justify-center' id='address-map'>
        <iframe
          src='https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d1319.8056083480976!2d-5.371352699888154!3d50.11346024449321!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x486ad965755ad565%3A0xeb8e49e608fbc47d!2sTresowes%20Green%20Cottage!5e0!3m2!1sen!2suk!4v1638787721595!5m2!1sen!2suk'
          width='600'
          height='300'
          style='border:0;'
          allowfullscreen=''
          loading='lazy'
          title='google maps'
        >
        </iframe>
      </div>
      <div class='mt-8 flex flex-col items-center md:flex-row justify-around pt-4 space-y-4 md:space-y-0'>
        <div class='text-center'>
          <p class='text-heading-2 opacity-90'>
            &copy; <span id='copyright-year'>2021</span> Tresowes Green Cottage
            <Icon
              name='mdi:heart'
              class='h-6 text-primary inline'
              aria-label='heart icon'
            />
          </p>
        </div>

        <div class='text-center'>
          <a href='/privacy-policy'
            ><span class='text-heading-3 hover:text-primary'
              >Privacy Policy</span
            ></a
          >
        </div>
        <ThemeSelector />
      </div>
    </Container>
    <BackToTheTop />
  </div>
</footer>

<script is:inline>
  document.querySelector('#copyright-year').innerText =
    new Date().getFullYear();
</script>
